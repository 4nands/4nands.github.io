<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
#d1{width:400px;height:400px;background-color:yellow;}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"></script>
<script>
var canvas,w,h;
var trackball;
var scene,renderer,camera,light;
var sphere;
var x,y,z;


window.addEventListener('load',init);
function init(){
	x=0;
	y=0;
	z=50;


	canvas=document.getElementById('d1');
	w=canvas.clientWidth;
	h=canvas.clientHeight;

	scene=new THREE.Scene();

	renderer=new THREE.WebGLRenderer({antialias:true});
	renderer.setSize(w,h);
	renderer.setClearColor(0x000000);
	renderer.shadowMap.enabled=true;
	canvas.appendChild(renderer.domElement);

	camera=new THREE.PerspectiveCamera(45,w/h,0.1,1000);
	camera.position.set(100,100,20);
	camera.up.set(0,0,1);
	camera.lookAt(scene.position);


	light=new THREE.DirectionalLight(0xffffff,1);
	light.position.set(100,100,200);
	light.castShadow=true;
	light.shadow.camera.right=-100;
	light.shadow.camera.left=100;
	light.shadow.camera.top=100;
	light.shadow.camera.bottom=-100;
	light.shadow.mapSize.width=2048;
	light.shadow.mapSize.height=2048;
	scene.add(light);

	sphere=new THREE.Mesh(new THREE.SphereGeometry(5,100,100),new THREE.MeshLambertMaterial({color:0xffffff}));
	sphere.castShadow=true;		
	scene.add(sphere);

	plane=new THREE.Mesh(new THREE.PlaneGeometry(100,100,0,0),new THREE.MeshLambertMaterial({color:0xffffff}));
	plane.receiveShadow=true;
	scene.add(plane);	

	loop();
	
	document.getElementById('d2').textContent="bbb";
}
function loop(){
	sphere.position.set(x,y,z);
	
	
	renderer.render(scene,camera);	
	
	z-=0.1;
	requestAnimationFrame(loop);
}
</script>
</head>
<body>
<div id="d1"></div>
<a id="d2">aaa</a>
</body>
</html>